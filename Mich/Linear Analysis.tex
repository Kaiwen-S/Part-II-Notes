\documentclass{article}
\usepackage{graphicx} % Required for inserting images
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage{enumerate,bbm}
\usepackage{tikz,graphicx,color,mathrsfs,color,hyperref,boldline}
\usepackage{caption,float}
\usepackage[a4paper,margin=1in,footskip=0.25in]{geometry}

\usepackage{listings}
\usepackage{xcolor}

\usepackage{tabularx,capt-of}

\usepackage{blindtext}
%Image-related packages
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage[export]{adjustbox}
\usepackage{lipsum}

%hyperref setup
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,
    }

%New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

%Code listing style named "mystyle"
\lstdefinestyle{mystyle}{
  backgroundcolor=\color{backcolour}, commentstyle=\color{codegreen},
  keywordstyle=\color{magenta},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codepurple},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,         
  breaklines=true,                 
  captionpos=b,                    
  keepspaces=true,                 
  numbers=left,                    
  numbersep=5pt,                  
  showspaces=false,                
  showstringspaces=false,
  showtabs=false,                  
  tabsize=2
}

%"mystyle" code listing set
\lstset{style=mystyle}

\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]
\newtheorem{example}[defn]{Example}
\theoremstyle{remark}
\newtheorem{rem}{Remark}
\newtheorem{remS}[section]{defn}
\newtheorem{lem}[defn]{Lemma}
\theoremstyle{plain}
\newtheorem{thm}[defn]{Theorem}
\newtheorem{prop}[defn]{Proposition}
\newtheorem{fact}[defn]{Fact}
\newtheorem{crly}[defn]{Corollary}
\newtheorem{conj}[defn]{Conjecture}

%\newtheorem*{programming*}{Programming Task}

%\newtheorem{innercustomgeneric}{\customgenericname}
%\providecommand{\customgenericname}{}
%\newcommand{\newcustomtheorem}[2]{%
%  \newenvironment{#1}[1]
%  {%
%   \renewcommand\customgenericname{#2}%
%   \renewcommand\theinnercustomgeneric{##1}%
%   \innercustomgeneric
%  }
%  {\endinnercustomgeneric}
%}

%\newcustomtheorem{question}{Question}
%\newcustomtheorem{programming}{Programming Task}

\newcommand{\NN}{\mathbb{N}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\FF}{\mathbb{F}}

\newcommand{\calD}{\mathcal{D}}
\newcommand{\id}{\operatorname{id}}

\newcommand{\sol}{\textit{Solution: }}
\newcommand{\Res}{\operatorname{Res}}

\title{Linear Analysis}
\author{Kevin}
\date{October 2024}

\begin{document}
\maketitle

\section{Normed spaces \& linear operators}
\begin{defn}
    Let $X$ be a vector space over $\RR$ or $\CC$ (usually over $\RR$). A \textbf{norm} on $X$ is a function $\Vert\bullet\Vert:X\to\RR_{\ge0}$ s.t. 
    \begin{enumerate}
        \item $\Vert x\Vert=0$ iff $x=0$;
        \item $\Vert\lambda x\Vert=|\lambda|\Vert x\Vert$ for all $x\in X$, $\lambda$ scalar;
        \item $\Vert x+y\Vert\le\Vert x\Vert+\Vert y\Vert$ for all $x,y\in X$ (Triangle inequality)
    \end{enumerate}
    A \textbf{normed space} is a pair $(X,\Vert\bullet\Vert)$, where $X$ is a vector space and $\Vert\bullet\Vert$ is a norm.
\end{defn}
\begin{example}
\begin{enumerate}
    \item $l_p^n$, $X=\RR^n$, $\Vert x\Vert=\Vert x\Vert_p=\left(\sum_i|x_i|^p\right)^{1/p}$. (Triangle inequality follows from Minkowski's inequality)
    \item $l_\infty^n$, $X=\RR^n$, $\Vert x\Vert=\Vert x\Vert_\infty=\max_i|x_i|$.
\end{enumerate}
\end{example}
\begin{rem}
    Often useful to consider the unit ball $B=B(X)$. $B$ completely determines the norm by $\Vert x\Vert=\inf\{t>0:x\in tB\}$. $B$ is always convex by triangle inequality. In fact, can check that if $B\subseteq\RR^n$ is a closed, bounded, convex, symmetric ($x\in B\implies -x\in B$), and is a nbd of $0$, then $B$ defines a norm via the formula above, and $B$ is the unit ball of that norm.
\end{rem}
Let $S$ be the set of scalar sequences made into a vector space under pointwise operations.
\begin{example}
    \begin{enumerate}
        \item $l_p=\{x\in S\colon \sum_i|x_i|^p<\infty\}$ with norm $\Vert x\Vert=\Vert x\Vert_p=\left(\sum_i|x_i|^p\right)^{1/p}$.
        \item $l_\infty=\{x\in S:\sup_n|x_n|<\infty\},\Vert x\Vert_\infty=\sup_n|x_n|$.
        \item $C_0=\{x\in S:x_n\to 0\}$ with norm $\Vert\bullet\Vert_\infty$.
    \end{enumerate}
\end{example}
\begin{defn}
    A Banach space is a complete normed space.
\end{defn}

\subsection{The H\"older \& Minkowski Inequality}
\begin{lem}
    For $1\le p<\infty$, $x\mapsto x^p$ is convex.
\end{lem}
\begin{thm}[Minkowski's inequality]
Let $1\le p<\infty$, $x,y\in l_p$, then $x+y\in l_p$ and $\Vert x+y\Vert_p\le\Vert x\Vert_p+\Vert y\Vert_p$.
\end{thm}
\begin{proof}
First assume $\Vert x\Vert_p,\Vert y\Vert_p\le 1$. For each $n$, we have 
\[|\lambda x_n+(1-\lambda) y_n|^p\le\lambda|x_n|^p+(1-\lambda)|y_n|^p\]
by the preceding lemma. So we have the same inequality of partial sums. Taking limit, we see that $\lambda x+(1-\lambda)y\in l_p$ and $\Vert \lambda x+(1-\lambda)y\Vert_p\le\lambda\Vert x\Vert_p+(1-\lambda)\Vert y\Vert_p$. For general $x,y\in l_p$, wlog assume $x,y\neq 0$ as otherwise the inequality is trivial. Apply the aove to the normalized vectors, we get
\[\Bigg\Vert\dfrac{\Vert x\Vert_p}{\Vert x\Vert_p+\Vert y\Vert_p}\dfrac{x}{\Vert x\Vert_p}+\dfrac{\Vert y\Vert_p}{\Vert x\Vert_p+\Vert y\Vert_p}\dfrac{y}{\Vert y\Vert_p}\Bigg\Vert_p\le 1\], which implies the claimed inequality after some manipulation.
\end{proof}
\begin{defn}
    $1\le p<\infty$, the conjugate index to $p$ is the $q$ s.t. $1<q<\infty$ with $1/p+1/q=1$.
\end{defn}
\begin{lem}
    If $p,q$ are conjugate, and $a,b\ge 0$, then $ab\le \frac{a^p}{p}+\frac{b^q}{q}$.
\end{lem}
\begin{proof}
    Can either do Legendre transform or substitute $x=a^p$, $y=b^p$ and use concavity of log.
\end{proof}
\begin{thm}[H\"older's inequality] If $p,q$ are conjugate, $x\in l_p$, $y\in l_q$, then $(x_ny_n)\in l_1$ with $\Vert (x_ny_n)\Vert_1\le\Vert x\Vert_p\Vert y\Vert_q$.
\end{thm}
\begin{proof}
    WLOG, assume $\Vert x\Vert_p=\Vert y\Vert_q=1$. For all $n$, $|x_ny_n|\le \frac{|x_n|^p}{p}+\frac{|y_n|^q}{q}$, so $(x_ny_n)\in l_1$ with $\Vert x_ny_n\Vert\le\frac{\Vert x\Vert_p^p}{p}+\frac{\Vert y\Vert_q^q}{q}=1/p+1/q=1$.
\end{proof}
\begin{example}
    \begin{itemize}
        \item $C([0,1])$ with the sup norm $\Vert f\Vert_\infty$ is complete (uniform convergence). More generally, $C(K)$ is with sup norm is complete if $K$ is compact Hausdorff.
        \item $C([0,1])$ with the $1$-norm $\Vert f\Vert_1=\int_0^1 f$ is incomplete. Still incomplete with $p$-norm $(\int_0^1 |f|^p)^{1/p}$.
        \item $C^1([0,1])$ of ctsly diff function with the sup norm $\Vert\bullet\Vert_\infty$ is incomplete. However with a new norm $\Vert f\Vert'=\Vert f\Vert_\infty+\Vert f'\Vert_\infty$, the space is complete (exercise)

    \end{itemize} The following result suggests that for a norm to be complete, one often needs to take into account the structure of the space.

    $\Delta=D^1\subseteq\CC$ the closed unit disk. $A(\Delta)$ be the space of functions which are cts on $\Delta$ and analytic on $\Delta^\circ$, then $A(\Delta)$ equipped with $\Vert f\Vert_\infty$ is complete (c.f. complex analysis, Montel's theorem, the uniform limit of holomorphic functions is holo'c).
\end{example}
\begin{rem}
    In $l_p$, ($1\le p\le\infty$). Write $e_n=(0,...,0,1,0,...)$ for the vector which is $1$ at the $n$th place. The linear span of $\{e_n\}$ is $F=\{x\in l_p:\exists N\ge 0,\forall n\in N,x_n=0\}\subsetneq l_p$. However, we get close for $1\le p<\infty$ since the closed linear span (the closure) of $e_n$ is $l_p$. To see this note that $\forall x\in l_p$, $\sum_{n=1}^k x_ne_n\to x$ as $k\to\infty$.

    The property above is false for $l_\infty$, e.g., take $(1,1,...)$. In fact the closed linear span in this case is $C_0$.

    Also note that Subspaces need not be closed, e.g. $F\subseteq l_1$ (even if $F$ is dense).
\end{rem}
\begin{defn}
    A topological space $X$ is separable if it has a countable dense subset.
\end{defn}
\begin{example}
    $l_p$ ($1\le p<\infty$) is separable (take finite rational sequences). $l_\infty$ is not separable (exercise).
\end{example}

\subsection{Linear Operators}
\begin{defn}
    $X,Y$ normed, a linear map $T:X\to Y$ is an operator if it's cts.
\end{defn}
\begin{prop}
    $X,Y$ normed, $T:X\to Y$ linear, then TFAE
    \begin{enumerate}
        \item $T$ cts
        \item $T$ cts at $0$
        \item $\exists k$ s.t. $\Vert T\Vert\le k\Vert x\Vert$ for all $x\in X$. ($T$ is bounded)
    \end{enumerate}
\end{prop}
\begin{proof}
    1 implies 2 is trivial. If 2 is true, then let $B(Y)$ be the unit ball in $Y$, which is a nbd of $0$, so by continuity at $0$, there exists $\delta>0$ s.t. $\Vert x\Vert<\delta\implies \Vert Tx\Vert\le 1$. Rearranging, get $\Vert Tx\Vert\le \Vert x\Vert/\delta$ for all $x\in B(Y)$, but then linearity allows us to say the same thing for all $x\in X$. To prove 3 implies 1, we simply note that Lipschitz condition implies continuity.
\end{proof}
\begin{defn}
    For bounded $T:X\to Y$, the operator norm of $T$ is $\Vert T\Vert=\sup\{\Vert Tx\Vert:\Vert x\Vert\le 1\}$.
\end{defn}
Then for all $x$, $\Vert Tx\Vert\le \Vert T\Vert\Vert x\Vert$.

We write $L(X,Y)$ for the set of cts linear maps $X\to Y$. In some sources, the notation $B(X,Y)$ is used.
\begin{rem}
    One can check that the operator norm is indeed a norm on $L(X,Y)$.
\end{rem}
\begin{prop}
    If $S:X\to Y$, $T:Y\to Z$ are operators, then $T\circ S$ is an operator and $\Vert TS\Vert\le \Vert T\Vert\Vert S\Vert$.
\end{prop}
\begin{proof}
    Direct computation.
\end{proof}
\begin{example}
    \begin{enumerate}
        \item $T:l_p^n\to l_p^n$ defined by projecting onto the first two coords. $\Vert T\Vert=1$.
        \item Right shift. This is an injective isometry, but not surjective.
        \item Left shift. This is surjective but not injective.
        \item $p,q$ conj. For $x\in l_p, y\in l_q$, write $x.y$ for $\sum x_ny_n$ which conv. abs. by H\"older. Can then define $\phi_y:l_p\to \RR$ by $x\mapsto x.y$. Have $\phi_y\in L(l_p,\RR)$ and $\Vert\phi_y\Vert\le \Vert y\Vert_q$.
        \item Take $(F,\Vert\bullet\Vert_1)$ and deifne $T:F\to \RR$, $x\mapsto \sum nx_n$. $T$ is linear but not cts.
        \item $T:l_1\to l_2$, $x\mapsto x$. Then $\Vert T\Vert=1$ as $\sum |x_n|\le 1\implies \forall n, |x_n|\le 1\implies\sum|x_n|^2\le 1\implies \Vert T\Vert\le 1$. $T$ is not surjective but the image contains $F$, so $\operatorname{im}(T)$ is dense. It is not closed so incomplete.
    \end{enumerate}
\end{example}
\begin{defn}
    $X,Y$ normed.
    \begin{itemize}
        \item The dual $X^\ast=L(X,\RR)$ with operator norm
        \item $X\to Y$ is an isomorphism if it's a linear homeo, i.e., $\exists c,d>0$ s.t. $c\Vert x\Vert\le\Vert Tx\Vert$ and $\Vert Tx\Vert\le d\Vert x\Vert$.
        \item  $X\to Y$ is an isometric isomorphism if it's an isometry.
        \item For isomorphic $X,Y$, the Banach-Mazur distance from $X$ to $Y$ is $d(X,Y)=\inf_{T \text{ iso}}\Vert T\Vert\Vert T^{-1}\Vert$.
        \item Two norms are equivalent if they induce the same topology, i.e., the identity is a homeo, i.e., two norms are Lipschitz equivalent. In particular, if two norms are equiv, and one of them is complete, then both are complete.
    \end{itemize}
\end{defn}
Note that for equivalent norms, $c\Vert x\Vert_1\le \Vert x\Vert_2\le d\Vert x\Vert_1$, i.e., $d^{-1}B_1\subset B_2\subset c^{-1}B$.
\begin{rem}
    \begin{itemize}
        \item On $C[0,1]$, $\Vert\bullet\Vert_\infty$ is complete, $\Vert\bullet\Vert_1$ is incomplete, so they are not equiv. The map $\operatorname{id}:(C[0,1],\Vert\bullet\Vert_\infty)\to(C[0,1],\Vert\bullet\Vert_1)$ is a cts linear bijection whose inverse is not cts.
        \item On $F$, $\Vert\bullet\Vert_1$ and $\Vert\bullet\Vert_2$ are not equiv. Take, $x=e_1+...+e_n$, then $\Vert x\Vert_1=n$, $\Vert x\Vert_2=\sqrt{n}$.
        \item $(T_n)$ a sequence in $L(X,Y)$ and $T_n\to T$ in operator norm, then $T_n\to T$ pointwise.
        The converse is false: $T_n:l_1\to \RR, x\mapsto x_n$. Then $\Vert T_n\Vert=1$ for all $n$, but we do have pointwise convergence.
    \end{itemize}
\end{rem}
\begin{thm}
    $X,Y$ normed, $Y$ complet. Then $L(X,Y)$ is complete with respect to the operator norm.
\end{thm}
\begin{proof}
    Given a Cauchy sequence $(T_n)$ in $L(X,Y)$, Pointwise, have
    $\Vert T_nx-T_my\Vert\le \Vert T_n-T_m\Vert\Vert x\Vert$, so pointwise Cauchy. Since $Y$ is complete, the pointwise limit exists. Can check that the pointwise limit $T$ is a linear map. It suffices to prove boundedness. Given $\epsilon>0$, there exists $N$ s.t. $\Vert T_m- T_n\Vert\le \epsilon$ for all $m\ge n\ge N$. Let $m\to \infty$, we get $\Vert Tx-T_nx\Vert\le\epsilon\Vert x\Vert$ for all $x$ and $n\in N$. So for all $x$, have
    \[\Vert Tx\Vert\le (\epsilon+\Vert T_m\Vert)\Vert x\Vert\]
    Note that $\Vert T_m\Vert$ is bounded as the sequence is Cauchy, so we have a uniform bound, so $T\in L(X,Y)$. Now, the preceding argument essentially says that $\Vert T-T_n\Vert\le\epsilon$ for all $n\ge N$.
\end{proof}
\begin{crly}
    If $X$ is a complete norm space, then $X^\ast$ is complete.
\end{crly}

We want to investigate the dual of $l_p$. Let $1<p,q<\infty$ be conjugate. For each $y\in l_q$, we defined $\phi_y\in l_p^\ast$. We know that $\Vert\phi_y\Vert\le\Vert y\Vert_q$. We construct $x_n=\operatorname{sgn}(y_n)|y_n|^{q/p}$, then $(x_n)\in l_p$ with $\Vert x\Vert_p=\Vert y\Vert_q^{q/p}$. $\phi_y(x)=\sum |y_n|^{q/p+1}=\sum |y_n|^q=\Vert y\Vert_q$. We see that $\Vert \phi_y\Vert=\Vert y\Vert_q$.
\begin{thm}
    Let $1<p,q<\infty$ be conjugate. Then $\theta:l_q\to l_p^\ast, y\mapsto \phi_y$ is an isometric isomorphism.
\end{thm}
\begin{proof}
    This map is obviously linear. It's norm preserving so obviously continuous and injective. To show surjectivity, consider $T\in l_q^\ast$ and define the following sequences (\textbf{important trick!}) $y_n=Te_n$.
    \[x_n=\begin{cases}
    \operatorname{sgn}(y_n)|y_n|^{q/p} & n\le N\\
    0 & \text{o/w}
    \end{cases}\]
    Then $x\in l_p$ and $Tx=\sum_1^N|y_n|^{q/p+1}=\sum_1^N|y_n|^q$, so $$\sum_1^N|y_n|^q\le\Vert T\Vert x\Vert_p=\Vert T\Vert\left(\sum_1^N|y_n|^q\right)^{1/p}$$
    so
    \[\Vert T\Vert\ge \left(\sum_1^N|y_n|^q\right)^{1/q}\]
    Let $N\to\infty$, we see that $y\in l_q$. By linearity and continuity, $T=\phi_y$ on $\overline{F}=l_q$.
\end{proof}
\begin{rem}
    \begin{enumerate}
        \item Same argument shows that $l_1^\ast=l_\infty$ and $C_0^\ast=l_1$ using the density of $\langle e_n:n\in \NN\rangle$.
        However, it wouldn't show $l_\infty^\ast=l_1$. In fact, there exists $T\in l_\infty^\ast$ not of the form $\phi_y$. The proof of this fact is beyond the scope of this course.
        \item Each $l_p$ ($1\le p\le \infty$) is complete and each is a dual space
        \item Cannot have $X^\ast=\{0\}$ by Hahn-Banach theorem (Any cts functional on a subspace extend to a continuous functional on the whole space).
    \end{enumerate}
\end{rem}
\subsection{Finite Dimensional Spaces}
\begin{thm}
    Any two norms on a finite dimensional vector space are equivalent.
\end{thm}
\begin{proof}
    Will show that any norm on $\RR^2$ is equiv to $\Vert -\Vert_\infty$. For $x\in\RR^n$, $\Vert x\Vert\le\sum\Vert x_ie_n\Vert=\sum|x_i|\Vert e_i\Vert\le n(\max_i\Vert e_i\Vert)\Vert x\Vert_\infty$.

    Conversely, consider $f:S\to \RR$, where $S=\{x\in\RR^n:\Vert x\Vert_\infty=1\}$, then $f$ is continuous on compact set so there eixsts $\delta>0$ s.t. $\Vert x\Vert_\infty=1\implies \Vert x\Vert\ge \delta$, so if $0\neq x\in\RR^n$, then $x=\Vert x\Vert_\infty\hat{x}$ and $\Vert x\Vert\ge \delta\Vert x\Vert_\infty$.
\end{proof}
\begin{crly}
    $X,Y$ normed and $\dim X<\infty$, then every lienar map $T:X\to Y$ is cts.
\end{crly}
\begin{proof}
    Define norm on $X$ yb $\Vert x\Vert'=\Vert x\Vert+\Vert Tx\Vert$, so there exists $c$ s.t. $\Vert x\Vert'\le c\Vert x\Vert$ by equivalence of norm, so $\Vert Tx\Vert\le c\Vert x\Vert$ by unwinding a bit.
\end{proof}
\begin{crly}
    $X,Y$ finite dim normed spaces of with $\dim X=\dim Y$. Then $X,Y$ are isomorphic.
\end{crly}
\begin{crly}
    \begin{enumerate}
        \item $Y$ normed finite dim vec space, then $Y$ complete;
        \item $X$ normed, then if $Y\subset X$ is a finite dim subspace then $Y$ is closed.
    \end{enumerate}
\end{crly}
\begin{crly}
    If $X$ is a finite dim normed vec space then $B_x$ is compact (being closed and bounded in 2-norm).
\end{crly}
Note that the unit ball in $l_p$ is not compact since $\Vert e_i-e_j\Vert\ge 1$ for all $i,j$.

Define $d(x,Y)=\inf\{d(x,y):y\in Y\}$ as the distance from $x$ to a closed subspace $Y$. Note that $d(x,Y)=0$ iff $x\in Y$ (closed).
\begin{prop}[Riesz's lemma]
    If $X$ is normed and $Y$ a proper closed subspace of $X$, then for all $\epsilon>0$, there exists $x\in X$ with $\Vert x\Vert=1$ s.t. $d(x,Y)\ge 1-\epsilon$. Moreover, if $\dim X<\infty$, then $\exists x\in X$ s.t. $\Vert x\Vert =1$ with $d(x,Y)=1$.
\end{prop}
\begin{proof}
    Let $\epsilon>0$ be given.
    Choose $x\in X$ s.t. $x\in Y$ and $\Vert x\Vert=1$. Pick $y\in Y$ with $\Vert x-y\Vert\le (1+\epsilon)d(x,Y)$. Define $z=\frac{x-y}{\Vert x-y\Vert}$. Can check that for any $y'\in Y$, we have
    \[z-y'=\dfrac{x-y-\Vert x-y\Vert y'}{\Vert x-y\Vert}\ge \dfrac{d(x,Y)}{\Vert x-y\Vert}\ge \dfrac{1}{1+\epsilon}\]
    For the second part, note that $d(x,Y)$ is a cts function $B_X\to\RR$. The domain is compact if $X$ is finite dimensional, so attains its lower bound.
\end{proof}
\begin{thm}
    $X$ infinite dim normed space. Then there eixsts a seq. $(x_n)$ in $X$ with $\Vert x\Vert=1$ for all $n$ and $\Vert x_n-x_m\Vert\ge 1$ for all $m\neq n$. In particular, $B_X$ is not compact.
\end{thm}
\begin{proof}
    Choose $x_1\in X$ with unit norm. Inductively set $Y=\langle x_1,...,x_n\rangle$ and $X'=\langle x_1,...,x_n,x\rangle$ for any $x\not\in Y$. By Riesz's lemma, there exists $x_{n+1}\in X'$ s.t. $\Vert x_{n+1}\Vert=1$ and $d(x_{n+1},Y)=1$.
\end{proof}

\subsection{Compact Operators}
\begin{defn}
    $X,Y$ normed. A linear operator $T:X\to Y$ is compact if $\overline{T(B_X)}$ is compact.
\end{defn}


\begin{example}
    For instance, if $T$ has finite rank, then $\overline{T(B_X)}$ is closed and bounded in finite dimensional space hence compact.

    If $X$ is infinite dimensional, then $\operatorname{id}_X$ is not compact due to the preceding theorem.
\end{example}
\begin{rem}
    \begin{enumerate}
        \item Compact implies cts.
        \item Note that if $Y$ is complete, then $T$ is compact if and only if $T(B_X)$ is totally bounded. 
        \item $T:X\to Y$ is compact iff for any $(x_n)$ in $B_X$, there exists a subsequence $(x_{n_i})$ with $T(x_{n_i})$ convergent.
    \end{enumerate}
\end{rem}

\begin{prop}
    $X,Y$ normed. $Y$ complete. Then $\{\text{compact operators}\}$ is a closed subspace of $L(X,Y)$.
\end{prop}
\begin{proof}
    Take a sequence $(x_n)$ in $B_X$. then can find a subsequence whose image under $S$ converges. Pass to some subsequence of this subsequence so that the image under $T$ also converges, so if $S,T$ are compact then so is $S+T$. This implies that the space of compact operators form a subspace.

    Consider a sequence $T_n\to T$ for $T_n$ compact. Given $\epsilon>0$, choose $n$ with $\Vert T_n-T\Vert<\epsilon$. Since $T_n(B_X)$ is totally bounded, we have $T_n(B_X)=\bigcup_{i=1}^mB(T_n(x_i),\epsilon)$ for some $x_i$. So, $T(B_X)\subseteq\bigcup_iB(T_n(x_i),2\epsilon)$ and $T(B_X)\subseteq\bigcup_i B(T(x_i,3\epsilon))$, which gives total boundedness. 
\end{proof}
In particular, the limit of finite rank operators is compact.
\begin{example}
    For fixed $1\le p\le\infty$, the projection onto the $n$th coord $p_n$ is a finite rank operator with $\Vert p_n\Vert=1$. $p=\sum_np_n/n^2$ converges as it's Cauchy, then $p$ is compact but not of finite rank.
\end{example}
\begin{prop}
    $X,Y,Z$ normed, $S\in L(X,Y)$, $T\in L(Y,Z)$, then
    \begin{enumerate}
        \item $S$ compact $\implies T\circ S$ compact
        \item $T$ compact $\implies T\circ S$ compact.
    \end{enumerate}
\end{prop}
\begin{proof}
    To prove the first claim, consider a sequence $(x_n)$ in $B_X$, then there is a subsequence with $S{x_{n_i}}$ convergent, so $TSx_{n_i}$ is convergent by continuity.

    To prove the second claim. Note that for any sequence $(x_n)$ in $B_X$, $Sx_n$ is bounded, so $TSx_{n_i}$ converges for some subsequence as $T$ is compact.
\end{proof}
We have seen the map $T:l_1\to l_2$ with dense image but not all of $l_2$. For instance $x(1/\sqrt{n},...,1/\sqrt{n},0,0,...)$ then $\Vert x\Vert_2=1$ $\Vert x\Vert_1=\sqrt{n}$.

\begin{thm}[Open mapping lemma]
    $X,Y$ normed. $X$ complete, then $T\in L(X,Y)$. Suppose $\overline{T(B_X)}\supset B_Y$, then
    \begin{enumerate}
        \item $\forall y\in Y,\exists x\in X$ s.t. $Tx=y$ and $\Vert x\Vert\le 2\Vert y\Vert$ (In particular, $T$ is surjective.)
        \item $Y$ complete.
    \end{enumerate}
\end{thm}
\begin{rem}
    \begin{enumerate}
        \item $\overline{T(B_X)}\supset B_Y$ implies that the image of $B_X$ is dense in $B_Y$, i.e., $\forall y\in B_Y,\forall\epsilon>0$, $\exists x\in B_X$ with $\Vert Tx-y\Vert<\epsilon$.
        \item The proof would also show that for all $y\in Y$, there eixsts $x$ with $\Vert x\Vert\le|1+\epsilon|\Vert y\Vert$ for any fixed $\epsilon$.
        \item We say that $T$ is open if the image of any open set is open, i.e., $T(B_X)$ is a nbd of $0$, i.e., $T(B_X)\supset\frac{1}{k}B_Y$ for some $k\in\NN$, i.e., $\forall y\in Y,\exists x\in X$ with $Tx=y$ and $\Vert x\Vert\le k\Vert y\Vert$. Therefore, open mapping lemma says that if $\operatorname{im}(B_X)$ is desne in $B_Y$, then $T$ is open.
    \end{enumerate}
\end{rem}
\begin{proof}
    \begin{enumerate}
        \item Given $y\in Y$ with unit norm. Seek $x\in X$ with $Tx=y$ and $\Vert x\Vert\le 2$. $T(B_X)$ is dense in $B_Y$, so $\exists x_1\in X$ s.t. $\Vert x_1\Vert\le1$ and $\Vert y-Tx_1\Vert\le 1/2$. Also, $T(\frac{1}{2}B_X)$ is dense in $1/2B_Y$, so $\exists x_2\in X$ with $\Vert x_2\Vert\le 1/2$ s.t. $\Vert y-T(x_1+x_2)\Vert\le 1/4$. Continue, obtain $x=\sum x_n$ which is Cauchy, hence convergent, and $\Vert y-Tx\Vert=0$, so $Tx=y$.
        \item Given $(y_n)$ Cauchy in $Y$. WLOG assume $\Vert y_n-y_{n-1}\Vert\le 2^{-n}$ (by passing to a subsequence if necessary). For each $n\ge 2$, choose $x_n\in X$ s.t. $\Vert x_n\Vert\le 2^{-n+1}$ with $Tx_n=y_n-y_{n+1}$. Also, choose $x_1\in X$ with $Tx_1=y_1$ (surjectivity). Thus $T(x_1+...+x_n)=y_n$. Put $x=\sum x_n$ which is Cauchy hence convergent. Then $Tx=\lim_n T(\sum_1^n x_i)=\lim y_n$, so $y_n$ converges. 
    \end{enumerate}
\end{proof}
\subsection{New Spaces From Old}
\begin{defn}[Direct sum]
    $X\oplus_p Y$ ($1\le p\le\infty$), where $\Vert(x,y)\Vert_p=(\Vert x\Vert^p+\Vert y\Vert^p)^{1/p}$ and $\Vert (x,y)\Vert_\infty=\sup(\Vert x\Vert,\Vert y\Vert)$.
\end{defn}
These norms are all equivalent, so we usually write $X\oplus Y$.
If $X,Y$ are Banach then so is $X\oplus Y$. $X,Y$ are always closed subspaces of $X\oplus Y$.
\begin{defn}[Quotient]
    $X$ normed, $N\le X$ a closed linear subspace. We can define the quotient space $X/N$. Define $\Vert z\Vert =\inf\{\Vert x\Vert:x\in X,\pi(x)=z\}$, where $\pi:X\to X/N$ is the canonical projection map (continuous in this norm). If $X$ is Banach, then so is $X/N$.
\end{defn}
\begin{proof}
    The only non-trivial property to check is positivity. If $\Vert z\Vert=0$ for some $z\in X/N$,
    then there exists $x_1,x_2,...\in X$  with $\pi(x_n)=z$ and $\Vert x_n\Vert\to 0$. Then let $\pi(x)=z$, we have $x_n\to 0$ and $x_n-x\in N$, so $x\in N$ as $N$ is closed, so $z=0$.

    Clear that the projection is cts as $\Vert\pi(x)\Vert\le \Vert x\Vert$ by definition.

    If $X$ is Banach, then $\forall z\in X/N$ with $\Vert z\Vert\le 1$, there exists $x\in X$ with $\Vert x\Vert <1$ with $\pi(x)=z$, so $\pi(B_X)$ is dense in $B_{X/N}$. Done by open mapping lemma.
\end{proof}

\begin{defn}[Completion]
    $X$ normed, there exists a completion of $X$ defined as
    \[\Tilde{X}=\{\text{Cauchy sequences in }X\}/{\sim}\]
    where $(x_n)\sim(y_n)$ iff $x_n-y_n\to 0$. This is naturally a vector space equipped with the norm $\Vert[(x_n)]\Vert_{\Tilde{X}}=\lim\Vert x_n\Vert$. Then $\Tilde{X}$ is complete and $X$ is a dense subspace of $\Tilde{X}$ given by embedding $x\mapsto(x,x,x,...)$.
\end{defn}
Warning: 1st iso fails, e.g., $l_1\to l_2, x\mapsto x$ is injective, but the image is not complete.

\section{Baire Category Theorem}
\begin{thm}[Baire Category Theorem]
    $X$ non-empty complete metric space and $O_1,O_2,...$ a sequence of dense open sets. Then $\bigcap_{n\ge 0}O_n\neq\varnothing$.
\end{thm}
\begin{proof}
    $O_1\neq\varnothing$, so $\exists \overline{B(x_1,\epsilon_1)}\subseteq O_1$ for some $x_1$ and $\epsilon<1$. $O_2$ is dense, so can find $\overline{B(x_2,\epsilon)}\subseteq B(x_1,\epsilon_1)\cap O_2$ for some $x_2$ and $\epsilon_2<1/2$. Continue, get a nested sequence of closed balls. We have $\epsilon_n\to 0$ and $\overline{B(x_n,\epsilon_n)}\subseteq O_n$. $(x_n)$ is Cauchy so converges by completeness, so $x_n\to x\in\bigcap_nO_n$.
\end{proof}
\begin{rem}
    Cannot omit ``dense'' (e.g., $(0,1),(2,3)$ in $\RR$) or ``open'' (e.g. $\QQ,\RR\setminus\QQ\subseteq\RR$), or ``complete'' (e.g. $O_n=\QQ\setminus\{q_n\}$, where $q_1,...$ is an enumeration of rationals in $\QQ$.)

    The exact same proof shows that $\bigcap_n O_n$ is dense in $X$.
\end{rem}
Note that $O$ open dense iff $O^c$ closed and has empty interior.
\begin{thm}[BCT']
    $X$ non-empty complete metric space. $F_1,F_2,...$ closed in $X$ with $\bigcup_n F_n=X$ Then some $X$ has non-empty interior.
\end{thm}
\begin{defn}
    $A\subset X$ (metric) is nowhere dense (ND) if it's not dense in any open ball, i.e., $A^\circ=\varnothing$.
\end{defn}
It is clear that $A$ ND iff $\overline{A}$ ND. If $A$ is closed, then $A$ ND iff $A$ contains no open ball.
\begin{thm}[BCT'']
    $X$ non-empty complete metric space. $A_1,...$ ND subsets of $X$, then $\bigcup_n A_n\neq X$.
\end{thm}
\begin{defn}
    $A\subset X$ (metric) is meager if $A=\bigcup_nA_n$, $A_n$ ND for all $n$. (Countable union of ND subsets)
\end{defn}
Then BCT'' implies that $X$ is not a meager subset of $X$.

Note that there exists uncountable ND subset of $[0,1)$, i.e., the Cantor set $\{\sum_na_n3^{-n}:a_n=0\text{ or }2\}$.

\subsection{Applications of BCT}
\begin{prop}[Osgood's Theorem]
    If $(f_n)$ is a sequence of cts functions on $[0,1]$ which is pointwise bounded, then there exists $a<b$ s.t. $f_n$ is unif. bounded on $(a,b)\subseteq[0,1]$.
\end{prop}
\begin{proof}
    Define $E_n=\{x\in[0,1]:\forall i, |f_i(x)|\le n\}$, then $\bigcup_nE_n=[0,1]$ and $E_n$ is closed for all $n$, so some $E_n$ has non-empty interior.
\end{proof}
\begin{thm}[Principle of uniform boundedness]
$X$ Banach, $Y$ normed. Let $T_1,T_2,...,\in L(X,Y)$. If $(T_n)$ is pointwise bounded. Then $T_n$ are uniformly bounded.    
\end{thm}
\begin{proof}
    Define $E_n\{x\in X:\forall i,\Vert T_i(x)\Vert\le n\}$ (closed, cover $X$), so there exists $B(x,\epsilon)\subseteq E_n$ for some $n,x,\epsilon$. So for any $y\in X$ s.t. $\Vert y\Vert<\epsilon$, $x,x+y\in B(x,\epsilon)$. So $\forall i$, $\Vert T_iy\Vert=\Vert T_i(x+y)-T_i(x)\Vert\le 2n$, so $\Vert T_i\Vert\le 2n/\epsilon$.
\end{proof}
\begin{thm}[Banach-Steinhaus Theorem]
    $X$ Banach, $Y$ normed, $T_1,T_2,...\in L(X,Y)$ s.t. $T_n\to T$ pointwise. Then $T\in L(X,Y)$ (linear and cts)
\end{thm}
\begin{proof}
    Linearity is trivial. Need to show continuity.
    $\forall x\in X$, $T_nx\to Tx$ so $T_n$ is pointwise bounded hence uniformly bounded by principle of uniform boundedness. So $\exists M$ s.t. $\Vert T_n\Vert\le M$ for all $n$, so $\Vert T_nx\Vert\le\Vert T_n\Vert \Vert x\Vert\le M\Vert x\Vert$. Let $n\to\infty$, we see that $\Vert Tx\Vert\le M\Vert x\Vert$.
\end{proof}
\begin{thm}[Open Mapping Theorem]
    $X,Y$ Banach, $T\in L(X,Y)$ surjective. Then $T$ is an open map [$\exists R$ s.t. $\forall y\in Y$ $\exists x\in X$ s.t. $Tx=y$ with $\Vert x\Vert \le R\Vert y\Vert$.]
\end{thm}
\begin{proof}
    $T$ is surjective, so $\bigcup_n\overline{T(nB_X)}=Y$ which each $\overline{T(nB_X)}$ closed. Baire $\implies$ that some $T(nB_X)$ contains a ball $B(y,\epsilon)$. WLOG, $n=1$, so $T(B_X)$ is dense in $B(y,\epsilon)$. Now for all $z\in Y$ with $\|z\|<\epsilon$, we have $y+z,y-z\in B(y,\epsilon)$, so there exists $x,x'\in B_X$ with $\| Tx-(y+z)\|<\delta$ and $\|Tx'-T(y-z)\|<\delta$, which implies that $\frac{x-x'}{2}\in B_X$ and $\| T((x-x')/2)-z\|<\delta/2+\delta/2=\delta$. So $T(B_X)$ is dense in $B(0,\epsilon)$. By open mapping lemma (applied to the operator $T/\epsilon$), there exists $x\in X$ with $Tx=\epsilon y$ with $\|x\|\le 2\|y\|$, i.e., $T(x/\epsilon)=y$ and $\|x/\epsilon\|\le \frac{2}{\epsilon}\|y\|$.
\end{proof}
\begin{crly}[Inversion Theorem]
    $X,Y$ Banach. $T\in L(X,Y)$ bijective, Then $T$ is an isomorphism
\end{crly}
\begin{proof}
    $T$ surjective, so $T$ is open by open mapping thm, so $\exists k$ s.t. $\forall y\in Y$, $\Vert T^{-1}y\Vert\le k\Vert y\Vert$, so $T^{-1}$ is cts.
\end{proof}
\begin{crly}[Comparability theorem]
    Let $\|\ \|_1$, $\|\ \|_2$ be complete norms on $V$. If $\exists c>0$ s.t. $\forall x,\ \|x\|_2\le c\|x\|_1$. Then these two norms are equivalent.
\end{crly}
\begin{proof}
    Note that $\id:(V,\|\ \|_1)\to(V,\|\ \|_2)$ is a continuous bijection. Done by inversion theorem.
\end{proof}
\begin{thm}[Closed graph theorem (CGT)]
    $X,Y$ Banach, $T\in L(X,Y)$. Then $T$ is cts iff $\operatorname{Graph}(T)$ is closed.
\end{thm}
\begin{rem}
    This has an important consequence. $T$ has closed graph $\Leftrightarrow$ If $(x_n,Tx_n)\to (x,y)$, then $y=Tx$. $\Leftrightarrow$ If $x_n\to x$ and $Tx_n\to y$, then $y=Tx$. $\Leftrightarrow$ If $x_n\to 0,\ Tx_n\to y$, then $y=0$.

    CGT $\implies$ to show $T$ cts, it suffices to show that if $x_n\to 0$ and $Tx_n\to y$ (can assume the existence of this limit) then $y=0$.
\end{rem}
\begin{proof}
    ``$\Rightarrow$'': Trivial.

    ``$\Leftarrow$'': Let $G(T)$ denote the graph of $T$. $G(T)$ is closed in $X\times Y$ (with $\|\ \|_1$ say) by assumption, so $G(T)$ is complete. Define $S:X\to G(T),\ x\mapsto (x,Tx)$ WTS that $S$ is bounded. Clearly $S$ is a bijection and $S^{-1}$ is cts ($\|x\|\le \|x\|+\|Tx\|$), so we are done by inversion theorem.
\end{proof}
\subsubsection{Existence of a cts nowhere differentiable function}
$f\in C[0,1]$ is diffrentiable at $x$ iff $\frac{f(x+t)-f(x)}{t}\to 0$ as $t\to 0$. In particular the difference quotient is bounded for all $t\neq 0$ small. Define $E_n=\{f\in C[0,1]:\exists x,\ \forall t,\ |(f(x+t)-f(x))/t|\le n\}$

\textbf{Claim: $E_n$ is closed}: Suppose $(f_i)\in E_n$ with $f_i\to f$ unif. For each $i$, there exists $x_i$ s.t. $|(f_i(x_i+t)-f_i(x_i))/t|\le n$ for all $t$. By passing to a convergent subsequence if necessary, we may assume $x_i\to x$ as $i\to\infty$ for some $x\in [0,1]$. Then have
\[\dfrac{f_i(x_i+t)-f_i(x_i)}{t}-\dfrac{f(x+t)-f(x)}{t}\]
for all $t$. Thus, $|(f(x+t)-f(x))/t|\le n$ for all $t$, so $f\in E_n$.

\textbf{Claim: $E_n$ is nowhere dense (ND).} Given $f\in E_n$ and $\epsilon>0$, we need $g\in B(f,3\epsilon)$ with $g\not\in E_n$. By uniform continuity of $f$, we can find $\delta>0$ s.t. $|x-y|<\delta\implies |f(x)-f(y)|<\epsilon$. Take the following function. to be $g$.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.5\linewidth]{Mich/pictures/LA-non-diff-func.PNG}
\end{figure}
Then we are done by Baire.

\section{Spaces of Continuous Functions}
\subsection{Existence of Continuous Functions}
\begin{defn}
    A Hausdorff space $X$ is normal if any two disjoint closed sets can be separated by two disjoint open sets.
\end{defn}
\begin{prop}
    Compact Hausdorff $\implies$ Normal.
\end{prop}
\begin{proof}
    Part IB Analysis and Topology ES3 Q8.
\end{proof}
\begin{thm}[Urysohn's lemma]
    Let $X$ be normal, $A,B\subseteq X$ be disjoint closed sets. Then $\exists$ a cts function $f:X\to[0,1]$ s.t. $f\equiv 0$ on $A$ and $f\equiv 1$ on $B$. 
\end{thm}
\begin{rem}
    \begin{itemize}
        \item Usually use normality in the following equivalent form. For $A\subseteq V$ where $A$ is closed and $V$ is open, there exists an open $U$ with $A\subseteq U$ and $\bar U\subseteq V$.
        \item If $X$ is Hausdorff and has the property in Urysohn lemma, then $X$ is normal. Take $f^{-1}(\{1/4\})$ and $f^{-1}(\{3/4\})$, so this characterizes normal spaces.
        \item This is trivial for metric spaces. Take $f(x)=\frac{d(x,A)}{d(x,A)+d(x,B)}$.
        \item If $K$ is compact Hausdorff (and infinite), then $C(K)$ is infinite dimensional. Pick an infinite sequence $(x_n)$ with distinct terms (possible as the set is infinite). For $n\ge 2$, pick $f_n\in C(K)$ with $f_n=0$ on $\{x_1,...,x_n\}$ and $f_n=1$ on $\{x_{n+1}\}$. It's easy to see that $\{f_n\}$ is an L.I. set.
     \end{itemize}
\end{rem}
\begin{proof}
    Let $A,B\subseteq X$ be disjoint closed sets. Let $V=B^c$. Find $O_{1/2}$ open s.t. $A\subseteq O_{1/2}$ and $\bar O_{1/2}\subseteq V$. Continue, find $O_{1/4}, O_{3/4}$ with $A\subseteq O_{1/4},\ \bar O_{1/4}\subseteq O_{1/2}$ and $\bar O_{1/2}\subseteq O_{3/4},\ \bar O(3/4)\subseteq V$. Continue, we get $O_q$ for all dyadic rational $q\in (0,1]$. The family $\{Q_q\}$ has the properties that
    \begin{itemize}
        \item $A\subseteq O_q\subseteq V$ for all $q$;
        \item $\bar O_q\subseteq O_r$ if $q<r$;
        \item Define $O_1=X$.
    \end{itemize}
    Define $f(x)=\inf\{q:x\in O_q\}$. To show continuity, it is enough to consider the preimages of $(-\infty,a)$ and $(-\infty,a)$. for $a\in(0,1)$.
    \begin{itemize}
        \item $f(x)<a\Leftrightarrow x\in O_q$ for some $q<a$, $\Leftrightarrow x\in\bigcup_{q<a}O_q$ which is open;
        \item $f(x)>a\Leftrightarrow x\not\in O_q$ for some $q>a$, i.e., $x\not\in\bar O_r$ for some $r>a$ $\Leftrightarrow x\in\bigcup_{r>a}\bar O_r^c$ open.
    \end{itemize}
\end{proof}
\begin{thm}[Tietze extension theorem]
    $X$ normal, $Y\subseteq X$ closed, $f:Y\to \RR$ bounded cts. Then $f$ extends to a cts function $g:X\to \RR$ with $\|g\|_\infty=\|f\|_\infty$.
\end{thm}
\begin{rem}
    \begin{itemize}
        \item The condition $\|g\|=\|f\|$ is trivial. If $g:X\to\RR$ extends to $f$ with $\|f\|=1$, then the map \[g'(x)=\begin{cases}
            g(x) & g(x)\in[-1,1]\\
            1 & g(x)>1\\
            -1 & g(x)<-1
        \end{cases}\]
        also extends $f$ ctsly.
        \item $Y$ being closed is necessary, e.g., $\sin(1/x)$ on $(0,1]\subseteq[0,1]$.
        \item Tietze extends the result of Urysohn lemma.
    \end{itemize}
\end{rem}
\begin{proof}
    WLOG, $\|f\|=1$. Let $A=\{x\in Y:f(x)<-1/3\}$, $B=\{x\in Y:f(x)>1/3\}$. By Urysohn, there exists a cts $g_1:X\to [-1/3,1/3]$ with $g_1=-1/3$ on $A$ and $g_1=1/3$ on $B$. Note that $|f(x)-g_1(x)|\le 2/3$ for all $x\in Y$, so $\|f-g_1\|_\infty\le2/3$. Repeat the process with $(f-g)$ in place of $f$ to obtain $g_2:X\to[-2/9,2/9]$ s.t. $\|f-g_1-g_2\|\le (2/3)^2$. We thus get a sequence of cts functiosn $g_1,g_2,...:X\to\RR$, s.t. $\|g_n\|\le\frac13(\frac23)^{n-1}$ and $\|f-\sum_{i=1}^ng_i\|_\infty\le(\frac23)^n\to0$ as $n\to\infty$. Let $g=\sum_ig_i$ which converges (being uniformly Cauchy). Have $\|g\|_\infty\le 1$ (can bound this by a geometric series), and $\|f-g|_Y\|=0$, so $f=g|_Y$.
\end{proof}\
\begin{proof}
    One can also proceed slightly differently by applying Riesz's lemma and open mapping lemma. The image of the restriction map is dense, and each function in the image of some function of the same sup norm. Open mapping lemma then implies that the restriction map is surjective.
\end{proof}

\subsection{Compactness in $C(K)$}
\begin{defn}
    For $K$ compact Hausdorff and $S\subseteq C(K)$, $S$ is equicontinuous at $x$ if 
    \[\forall\epsilon>0,\ \exists\text{ nbd } N\ni x\text{ s.t. }\forall f\in S,\ y\in N\implies |f(x)-f(y)<\epsilon\]
    We say that $S$ is equicontinuous if it is equicontinuous at $x$ for every $x\in K$.
\end{defn}
\begin{example}
    $\{\sin(n+x):n\in\NN\}$ is equicontinuous since $|x-x'|<\epsilon\implies |f(x)-f(x')|<\epsilon$ (MVT + all derivatives $\le 1$). But $\{\sin(nx):n\in\NN\}$ is not equicontinuous at $0$.
\end{example}
\begin{thm}[Arzela-Ascoli]
    Let $K$ be compact Hausdorff and $S\subseteq C(K)$. Then $S$ is compact if and only if $S$ is closed, bounded and equicontinuous.
\end{thm}
\begin{proof}
    `$\Rightarrow$': If $S$ is compact, then it is closed and totally bounded (hence bounded) by IB analysis and topology. Let $\epsilon>0$ be given. Let $x\in K$. Since $S$ is totally bounded, we can find $f_1,...,f_n\in S$ s.t. $S\subseteq \bigcup_{i=1}^nB(f_i,\epsilon)$. For each $i$, $f_i$ is continuous at $x$, so there exists open $U_i$ with $x\in U_i$ s.t. $\forall y\in U_i,\ |f_i(y)-f_i(x)|<\epsilon$. Let $U=\bigcap_{i=1}^n U_i$. Then $U$ is an open nbd of $x$ and $\forall y\in U$ and $\forall i$, $|f_i(y)-f_i(x)|<\epsilon$. But then for any $f\in S$, we have $\|f-f_i\|_\infty<\epsilon$ for some $i$. Therefore $$\forall y\in U,\ |f(y)-f(x)|\le |f(y)-f_i(y)|+|f_i(y)-f_i(x)|+|f_i(x)-f(x)|<3\epsilon$$

    `$\Leftarrow:$': Conversely $S$ is closed, so sufficient to prove total boundedness. Given $\epsilon>0$, we know that $S$ is equicontinuous, so $\forall x\in K$, there exists open $U_x\ni x$ s.t. $\forall f\in S$, $\forall y\in U_x$: $|f(y)-f(x)|<\epsilon$. Then $(U_x)_{x\in K}$ is an open cover of $K$. By compactness of $K$, we can reduce to a fintie subcover, say $K=U_{x_1}\cup...\cup U_{x_n}$. For $f\in S$ define $\hat f\in\RR^n$ by $\hat f=(f(x_1),...,f(x_n))$. $\hat f$ contains all the information of $f$ up to $\epsilon$. Let $\hat S=\{\hat f:f\in S\}\subseteq \RR^n$ equipped with the uniform norm $\|\cdot \|_\infty$. Then $\hat S$ is bounded as $S$ is bounded. Hence $\hat S$ is totally bounded as we are in a finite dimensional space. Hence $\hat S\subseteq B(\hat f_1,\epsilon)\cup...\cup B(\hat f_k,\epsilon)$ for some $f_1,...,f_k\in S$. Then $\forall f\in S$, we have $\hat f\in B(\hat f_r,\epsilon)$ for some $r$, i.e., $|f(x_i)-f_r(x_i)|<\epsilon$ for all $i$. So $\forall x\in K$, we have $x\in U_{x_i}$ for some $i$ so
    \[|f(x)-f_r(x)|\le|f(x)-f(x_i)|+|f(x_i)-f_r(x_i)|+|f_r(x_i)-f_r(x)|<3\epsilon\]
    This means that $f\in B(f_1,3\epsilon)\cup...\cup B(f_k,3\epsilon)$, i.e., $S$ is totally bounded.
\end{proof}
\begin{rem}
    \begin{itemize}
        \item[(i)] Identical proof works for $C_\CC(K)$.
        \item[(ii)] Above proof shows that $S$ totally bounded iff $S$ bounded and equicontinuous.
    \end{itemize}
\end{rem}
Arz\'ela-Ascoli s often useful in showing that operators to $C(K)$ are compact.
\begin{example}[Integral Operators]
    Let $g\in C([0,1]^2)$ be fixed. For $f\in C[0,1]$ define $T(f)\in C[0,1]$ by
    \[T(f)(x)=\int_0^1g(x,t)f(t)dt\]
    for $x\in[0,1]$. (e.g. $T(f)(x)=\int_0^1e^{-xt}f(t)dt$)
    $T:C[0,1]\to C[0,1]$ is the integral operator with kernel $g$. We observe that $T$ is linear and continuous since $|Tf(x)|\le\|g\|_\infty\|f\|_\infty$.

    \textbf{Claim: $T$ is compact}.
    Proof of claim: Need to show image of unit ball is equicontinuous. Given $\epsilon>0$, there exists $\delta>0$ s.t. 
    \[|x-x'|<\delta,\ t\in[0,1]\implies |g(x,t)-g(x',t)|<\epsilon\]
    (This is uniform convergence of $g$)
    So for $f\in C[0,1]$ with $\|f\|_\infty=1$, we have
    \[|x-x'|<\delta\implies |Tf(x)-Tf(x')|\le\int_0^1|g(x,t)-g(x',t)||f(t)|dt\le\epsilon\]
\end{example}

\subsection{Density of $C(K)$}
Let $K$ be compact Hausdorff.
\begin{defn}
    A subalgebra of $C(K)$ is a subspace such that $f,g\in A\implies fg\in A$.
\end{defn}
\begin{example}
    \begin{enumerate}[(i)]
        \item $\{f\in C[0,1]:\text{poly}\}$ (dense)
    \end{enumerate}
\end{example}
\begin{defn}
    For $f,g\in C_{\RR}(K)$ define $f\vee g$ `$f$ max/meet $g$' by $(f\vee g)(x)=\max(f(x),g(x))$ and $f\wedge g$ `$f$ min/join $g$' by $(f\wedge g)(x)=\min(f(x),g(x))$.
\end{defn}
Note that $\wedge$ and $\vee$ acts on $C_\RR(K)$. (They are called lattice operations.)
\begin{defn}
    A sublattice of $C_\RR(K)$ is a subset $A$ s.t. $f,g\in A\implies f\vee g, f\wedge g\in A$.
\end{defn}
\begin{example}
    \begin{enumerate}[(i)]
        \item $\{f\in C_\RR(K):\forall x,f(x)\ge 0\}$
        \item $\{f\in C_\RR(K): \|f\|_\infty\le 1\}$
        \item $\{f\in C_\RR[0,1]:f\text{ poly}\}$ is not a sublattice.
    \end{enumerate}   
\end{example}
Note that the concept of sublattice makes sense for $C_\RR(K)$ but not for $C_\CC(K)$.
\begin{lem}
    $K$ compact Hausdorff, $A\subseteq C_\RR(K)$ sublattice. Suppose $A$ approximates $f$ at every pair of pts (i.e., $\forall \epsilon>0$, $\forall x,y\in K$, $\exists g\in A$ s.t. $|g(x)-f(x)|,|g(y)-f(y)|<\epsilon$). Then $A$ approximates $f$ uniformly.
\end{lem}
\begin{proof}
    Let $\epsilon>0$. For each $x,y\in K$, find $g_{xy}\in A$ s.t. $|g_{xy}(x)-f(x)|,|g_{xy}(y)-f(y)|<\epsilon$. Define $V_{xy}=\{z\in K:|g_{xy}(z)-f(z)|<\epsilon\}$. Then $V_{xy}$ is an open nbd of $x$ and $y$. Fix $x\in K$, we have an open cover $\{V_{xy}:y\in K\}$. Pass to a finite subcover $V_{xy_1},...,V_{xy_n}$. Put $g_x=g_{xy_1}\wedge\cdots\wedge g_{xy_n}$. Then $g_x$ satisfies the property $\forall y\in K$, $g_x(y)<f(x)+\epsilon$. Define $U_x=\{z:|g_x(z)-f(z)|<\epsilon\}$. Pass to a finite cover $K=U_{x_1}\cup\cdots\cup U_{x_m}$. Put $g=g_{x_1}\vee\cdots\vee g_{x_m}$. Then $\forall y\in K$, have $g(x)>f(x)-\epsilon$.
    Therefore $|f(x)-g(x)|<\epsilon$ for all $x\in K$.
\end{proof}
Aim to prove that closed subalgebra are always sublattices.
\begin{lem}
    $x\mapsto |x|$ on $[-1,1]$ can be unif. approximated by poly.
\end{lem}
\begin{proof}
    Enough to approximate $\sqrt{x^2+\epsilon}$ for $\epsilon>0$ because $|\sqrt{x^2+\epsilon}-|x||=|\frac{\epsilon}{\sqrt{x^2+\epsilon}+|x|}|\le \sqrt\epsilon$.
    Use the holo'c function $(z+\epsilon)^{1/2}$ on $\Re(z)>-\epsilon$ to obtain a uniformly convergent series expansion on $[0,1]$, e.g., Taylor expand at $1/2$. (It is locally uniformly convergent on the disk of radius $1/2+\epsilon$, so restrict to the closed disk of radius $1/2$ it is unif. convergent.) Now, the same truncated series evaluated at $x^2$ is unif. convergent on $[-1,1]$
\end{proof}
\begin{crly}
    $K$ is compact Hausdorff, $A\subseteq C(K)$ closed subalgebra. Then $A$ is a sublattice.
\end{crly}
\begin{proof}
    Enough to show that $f\in A\implies |f|\in A$ because $f\vee g$ and $f\wedge g$ can be expressed in terms of $f,g$ and $|f-g|$. WLOG, assume $\|f\|_\infty\le 1$. Given $\epsilon>0$, find $P(t)$ poly s.t. $|P(t)-|t||<\epsilon$ on $[-1,1]$. $|P(f)-|f(t)||<\epsilon$ since $\|f\|_\infty\le 1$.
\end{proof}
\begin{thm}[Stone-Weierstrass]
    $K$ compact Hausdorff. $A\subseteq C(K)$ subalgebra s.t. \begin{enumerate}[(i)]
        \item $A$ contains the constants
        \item $A$ separates points of $K$, i.e., $\forall x,y\in K$ $x\neq y$, $\exists f\in A$ s.t. $f(x)\neq f(y)$.
    \end{enumerate}
    Then $A$ is dense in $C(K)$.
\end{thm}
\begin{proof}
    $\bar A$ closed subalgebra, so a sublattice. Given $x,y\in K$ and $\epsilon>0$, can find $g\in A$ s.t. $g(x)=f(x)$ and $g(y)=f(y)$. The previous lemma implies that $\bar A$ approximates $f$ unif. so $\bar A$ is dense in $C(K)$, so $\bar A=C(K)$.
\end{proof}
\begin{rem}
    
\end{rem}
\section{Hilbert Spaces}
Let $X$ be a real or complex vector space.
\begin{defn}
    An inner product on $X$ is a function $(-,-):X\times X\to \FF$ (where $\FF=\RR$ or $\CC$) s.t. for all $x,y,z\in X$ and $\lambda,\mu\in\FF$,
    \begin{enumerate}[(i)]
        \item $(\lambda x+\mu y,z)=\lambda(x,z)+\mu(y,z)$
        \item $(y,x)=\overline{(x,y)}$
        \item $(x,x)\ge 0$, with $(x,x)=0$ iff $x=0$.
    \end{enumerate}
\end{defn}
Examples include the usual inner product on $\ell^2$ and $L^2$. Note that an inner product induces a norm by $\|x\|=(x,x)^{1/2}$.
\begin{thm}
    Let $X$ be an inner product space. Then
    \begin{enumerate}[(i)]
        \item (Cauchy-Schwarz) $\forall x,y\in X$, $|(x,y)|\le \|x\|\|y\|$
        \item (Triangle inequality) $\forall x,y\in X$, $\|x+y\|\le \|x\|+\|y\|$
    \end{enumerate}
\end{thm}
\begin{proof}
    (i): WLOG, assume $(x,y)\in \RR$. Then $\forall y\neq 0$ and $t\in\RR$, have $\|x+ty\|^2=(x+ty,x+ty)=\|x\|^2+t^2\|y\|^2+2t(x,y)\ge 0$. Hence $4(x,y)^2-4\|x\|^2\|y\|^2\le 0$. Rearrange.

    (ii) $\|x+y\|^2=(x+y,x+y)=\|x\|^2+\|y\|^2+2\Re(x,y)\le \|x\|^2+\|y\|^2+2\|x\|\|y\|=(\|x\|+\|y\|)^2$
\end{proof}
\begin{defn}
    A Hilbert space is a complete inner product space.
\end{defn}
\begin{example}
    $\ell^2$ is Hilbert, but $C[0,1]$ with $(f,g)=\int_0^1 f\bar g$ is not Hilbert.
\end{example}
\begin{prop}[Polarization identity]
    Let $X$ be an inner product space; $x,y\in X$. Then
    \begin{enumerate}
        \item[Real Case:] $(x,y)=\frac12(\|x+y\|^2-\|x\|^2-\|y\|^2)$
        \item[Complex Case:] $(x,y)=\frac14(\|x+y\|^2-\|x-y\|^2+i\|x+iy\|^2-i\|x-iy\|^2)$
    \end{enumerate}
\end{prop}
\begin{proof}
    Expand $\|x+y\|^2$ in each case.
\end{proof}
\begin{prop}[Parallelogram Law]
    Let $X$ be an inner product space; $x,y\in X$. Then $\|x+y\|^2+\|x-y\|^2=2\|x\|^2+2\|y\|^2$
\end{prop}
\begin{proof}
    Compute.
\end{proof}
\begin{rem}
    The parallelogram law characterizes inner product spaces in the sense that if a normed space $X$ satisfies the conclusion of the parallelogram law, then the polarization identity defines a valid inner product on $X$ which induces its norm. In particular, a normed space $X$ is an inner product space if and only if every 2-dimensional subspace of $X$ is an inner product space.
\end{rem}
\begin{defn}
    $X$ inner product space. $x,y\in X$ are said to be orthogonal, written $x\perp y$ if $(x,y)=0$.
\end{defn}
\begin{prop}[Pythagoras]
    $X$ an inner product space; $x,y\in X$. Then $x\perp y\implies \|x+y\|^2=\|x\|^2+\|y\|^2$
\end{prop}
\begin{proof}
    Compute.
\end{proof}
Similarly, if $x_1,...,x_n$ are pairwise orthogonal, then $\|\sum_ix_i\|^2=\sum_i\|x_i\|^2$.
\begin{thm}
    Let $X$ be an inner product space. Then its completion $\tilde X$ is also an inner product space.
\end{thm}
\begin{proof}
    For $x,y\in\tilde X$, choose $(x_n)$ and $(y_n)$ in $X$ s.t. $x_n\to x$ and $y_n\to y$. Define $(x,y)=\lim_{n\to\infty}(x_n,y_n)$. Easy to check various properties and that the induced norm is complete.
\end{proof}
\begin{example}
    $L^2$ is the completion of $C[0,1]$ with respect to $\|\cdot\|_2$.
\end{example}
Recall that the distance from a point to a closed set needs not be attained even in $\ell^2$.
\begin{thm}[Closest Point Theorem]
    Let $H$ be a Hilbert space, $S$ a closed subspace of $H$, $x\in H$. Then there exists a unique $y\in S$ s.t. $\|x-y\|=d(x,S)$.
\end{thm}
\begin{proof}
    Let $d=d(x,S)$. Choose $(y_n)$ in $S$ s.t. $\|x-y_n\|\to d$.
    We now use the parallelogram law to prove that $y_n$ is Cauchy. The key ingredient is the parallelogram law. We have
    \[2\|x-y_n\|^2+2\|x-y_m\|^2=\|2x-y_n-y_m\|^2+\|y_n-y_m\|^2\]
    Rearrange,
    \begin{align*}\|y_n-y_m\|^2&=2\|x-y_n\|^2+2\|x-y_m\|^2-4\|x-\frac12(y_n+y_m)\\ &\le 2\|x-y_n\|^2+2\|x-y_m\|-4d^2\end{align*}
    By completeness and closedness, this sequence has a limit $y\in S$ s.t. $d(x,y)=d$.

    To see uniqueness, note that if $z$ also satisfies the above, then $\|y-z\|^2=2\|x-y\|^2+2\|x-z\|^2-4\|x-\frac12(y+z)\|^2\le 2d^2+2d^2-4d^2=0$, so $y=z$.
\end{proof}
\begin{rem}
    The same proof shows that the distance to a closed convex set is attained.
\end{rem}
If $X$ is an inner product space, $x\in X$, then we define $x^\perp=\{y\in X:(x,y)=0\}$, which is a closed subspace.
For $S\subseteq X$, $S^\perp=\{y\in X:\forall x\in S,\ (x,y)=0\}=\bigcap_{x\in S}x^\perp$, and $S^\perp$ is a closed subspace of $X$. It is clear that $S\subseteq S'\implies S'^\perp\subseteq S^\perp$.
\begin{thm}
    Let $H$ be a Hilbert space, $F$ a closed subspace of $H$. Then $H=F\oplus F^\perp$, i.e., $F$ has an orthogonal complement.
\end{thm}
\begin{proof}
    It is clear that $F\cap F^\perp=\{0\}$.
    WTS $F+F^\perp=H$. Let $x\in H$. Choose $y\in F$ s.t. $\|x-y\|=d(x,F)$. We claim that $x-y\in F^\perp$. If not, then pick $z\in F$ s.t. $(x-y,z)\neq 0$. WLOG, assume $(x-y,z)$ is real and $>0$. Let $t\in \RR^+$. We have $\|x-y\|^2\le \|x-(y+tz)\|^2\le \|x-y\|^2+t^2\|z\|^2-2t(x-y,z)$. So: $2t(x-y,z)-t^2\|z\|^2\le 0$. False for sufficiently small $t$.
\end{proof}
Note that $S\subseteq X\implies S\subseteq (S^\perp)^\perp$.
\begin{crly}
    $H$ a Hilbert space. Then
    \begin{enumerate}[(i)]
        \item $F$ a closed subspace of $H\implies (F^\perp)^\perp=F$
        \item $S\subseteq H\implies (S^\perp)^\perp=\overline{\langle S\rangle}$
        \item $S\subseteq H$ has dense linear span $\Leftrightarrow S^\perp=\{0\}$
    \end{enumerate}
\end{crly}
\begin{proof}
    Just check.
\end{proof}
If $H$ is a Hilbert space, then for each $y\in H$ one may define $\theta_y:H\to \CC$ by $\theta_y(x)=(x,y)$, which is bounded linear by Cauchy-Schwarz. We also deduce that $\|\theta_y\|\le \|y\|$. But note that $\theta_y(y)=\|y\|^2$, so $\|\theta_y\|=\|y\|$.

\begin{thm}[Riesz Representation Theorem]
    $H$ a Hilbert space, $f\in H^\ast$. Then $\exists y\in H$ s.t. $f=\theta_y$.
\end{thm}
\begin{proof}
    WLOG $f\neq 0$. Put $E=\ker f$. Then $E$ is a closed subspace of $H$ and $E\neq H$, so $E^\perp\neq \{0\}$. Also, $\dim E<2$ because $x,y\in H\implies f(\lambda x+\mu y)=0$ for some $\lambda,\mu\neq 0$, so $E^\perp=\langle y\rangle$ for some $y\in H$. WLOG, assume $\|y\|=1$. Define $u=\overline{f(y)}y$. Then $f(u)=\|u\|^2$. Now, for any $x\in H$, write $x=z+\lambda u$ for some $z\in E$, $\lambda\in \CC$. Then, $(x,y)=(z=\lambda y,y)=\lambda\|y\|^2=f(x)$. Hence, we are done.
\end{proof}
\begin{crly}
    $H$ Hilbert. The map $\Theta:H\to H^\ast$, $y\mapsto\theta_y$ is an isometric, conjugate-linear isomorphism, i.e., $H$ is self-dual.
\end{crly}
\begin{proof}
    Have $\|\theta_y\|=\|y\|$ $\forall y\in H$, so $\Theta$ is an isometry. It's surjective by Riesz Representation Theorem. Clearly conj. linear by definition.
\end{proof}

\subsection{Orthonormal Bases}
\begin{defn}
    A sequence $(x_n)$ in an inner product space $X$ is an orthonormal sequence if it consists of pairwise orthogonal unit vectors. It is an orthonormal basis if $\langle x_n:n\in\NN\rangle$ has dense linear span.
\end{defn}
We use the same terminology for finite sequences.
\begin{thm}[Gram-Schmidt Process]
    Let $(x_n)$ be a linearly independent sequence in an inner product space $X$. Then there exists an orthonormal sequence $(e_n)$ s.t. $\langle e_1,...,e_n\rangle=\langle x_1,...,x_n\rangle$ for all $n$.
\end{thm}
\begin{proof}
    Let $e_1=x_1/\|x_1\|$. Then let $e_2'=x_2-(x_2,e_1)e_1$ and define $e_2=e_2'/\|e_2'\|$. Continue inductively.
\end{proof}
\begin{crly}
    Let $X$ be a separable inner product space. Then $X$ has an orthonormal basis
\end{crly}
\begin{proof}
    Let $(x_n)$ be a sequence which is dense in $X$. WLOG, assume $(x_n)$ is linearly independent by removing any $x_n$ depending on its predecessors. Apply Gram-Schmidt.
\end{proof}
\begin{example}
    The normalized Legendre polynomials are obtained by performing Gram-Schmidt on the dense sequence $1,t^2,t^3,...$ in $X=C_\RR[-1,1]$ with the $2$-norm. In fact, the $n$th one is a multiple of $\frac{d^n}{dt^n}((t^2-1)^n)$.
\end{example}
\begin{crly}
    Let $X$ be an $n$-dimensional inner product space. Then $X$ is isometrically isomorphic to $\ell_2^n$.
\end{crly}
\begin{proof}
    Let $e_1,...,e_n$ be an orthonormal basis of $X$. Define $T:X\to \ell_2^n$ by $T(\sum_i\lambda_ie_i)=(\lambda_1,...,\lambda_n)$. $T$ is linear and bijective. Also, $\|(\lambda_1,...,\lambda_n)\|_2^2=\sum_i|\lambda_i|^2=\|\sum_i\lambda_ie_i\|^2$, i.e., $T$ is norm-preserving.
\end{proof}
\begin{rem}
    Isometric isomorphism also preserves the inner product by polarization.
\end{rem}
We now aim to show that every separable infinite-dimensional Hilbert space is isometrically isomorphic to $\ell_2$.
\begin{prop}
    $H$ Hilbert space; $(e_n)$ an orthonormal sequence in $H$. Then for any $\lambda_1,\lambda_2,...,\in\CC$,
    \[\sum_n\lambda_ne_n\text{ converges }\Leftrightarrow (\lambda_n)\in\ell_2\]
\end{prop}
\begin{proof}
    `$\Rightarrow$': $\|\sum_{n=1}^N\lambda_ne_n\|\to \|\sum_{n=1}^\infty\lambda_ne_n\|$ as $N\to \infty$. But $\|\sum_{n=1}^N\lambda_ne_n\|=\sum_{n=1}^N|\lambda_n|^2$, so $\sum_{n=1}^\infty|\lambda_n|^2<\infty$.

    `$\Leftarrow$': $\|\sum_{n=N}^M\lambda_ne_n\|^2=\sum_{n=N}^M|\lambda_n|^2\to 0$ as $M,N\to \infty$, so $\sum_{n=1}^N\lambda_ne_n$ is Cauchy.
\end{proof}
\begin{crly}[Riesz-Fisher Theorem]
    $H$ Hilbert; $(e_n)$ an orthonormal sequence in $H$. Then for all $c\in \ell_2$, there exists $x\in H$ s.t. $(x,e_n)=c_n$ for all $n$.
\end{crly}
\begin{proof}
    Let $x=\sum_nc_ne_n$ which converges as $c\in \ell_2$. Then $(\sum_{n=1}^Nc_ne_n,e_k)=c_k$ for all $N\ge k$, so $(x,e_k)=c_k$ for all $k$.
\end{proof}
\begin{defn}
    For an orthonormal sequence $(e_n)$ in an inner product space $X$, we call $(x,e_k)$ the $k$th (Fourier) coefficient of $x$ with respect to $(e_n)$.
\end{defn}
We will show that for an orthonormal basis, $x=\sum_n(x,e_n)e_n$ for all $x$. 
\begin{rem}
    This is false in a general Banach space. For instance, $1,t,t^2,...,$ have dense linear span in $C_\RR[-1,1]$ but $|t|\neq \sum c_kt^k$.
\end{rem}
\begin{thm}[Bessel's inequality]
    $H$ Hilbert; $(e_n)$ an orthonormal sequence. Then for all $x\in H$, $\sum_{n=1}^\infty|(x,e_n)|^2\le \|x\|^2$. In particular, $((x,e_n))_{n=1}^\infty\in\ell_2$.
\end{thm}
\begin{proof}
    Put $y=\sum_{n=1}^k(x,e_n)e_n$. We have $(y,e_n)=(x,e_n)$ for all $n\le k$, so $(x-y)\perp e_n$ for all $n\le k$, so $(x-y)\perp y$, so By Pythagoras, $\|x\|^2=\|x-y\|^2+\|y\|^2\ge \|y\|^2$, and we are done.
\end{proof}
\begin{thm}
    $H$ Hilbert; $(e_n)$ an orthonormal basis in $H$. Then for all $x\in H$, $x=\sum_{n=1}^\infty(x,e_n)e_n$.
\end{thm}
\begin{proof}
    $((x,e_n))_{n=1}^\infty\in\ell_2$ by Bessel, so $\sum_{n}(x,e_n)e_n$ converges to some $y\in H$. Note that $(y,e_n)=(x,e_n)$ for all $n$, so $(y-x)\perp e_n$ for all $n$, so $y-x\in \overline{\langle e_n:n\in\NN\rangle}^\perp=\{0\}$, so $y=x$.
\end{proof}
\begin{rem}
    The previous two theorems also hold for inner product spaces: if $(e_n)$ is an orthonormal basis in $X$, then $(e_n)$ is an orthonormal basis in its completion $\tilde X$ as $X$ is dense in $\tilde X$.
\end{rem}
\begin{example}
    $C_\CC[0,2\pi]$ with the $2$-norm. Then $(e^{in\theta})_{n\in \ZZ}$ is an orthonormal basis. So we get Fourier series which converges in $\|\cdot\|_2$. The same holds for any $f\in L^2[0,2\pi]$.

    For $f\in C_\CC[0,2\pi]$, $f(0)=f(2\pi)$. Write $$S_k=\sum_{n=-k}^k(f,e^{in\theta})e^{-in\theta}$$
    The above says $S_k\to f$ in $\|\cdot\|_2$. Need not have uniform convergence or even pointwise convergence. Fejer's Theorem says that 
    \[\dfrac{S_1+\cdots+S_k}{k}\to f\] uniformly.
\end{example}
\begin{crly}[Parseval]
    $H$ Hilbert, $(e_n)$ orthonormal basis for $H$. Then
    \begin{enumerate}[(i)]
        \item For all $x\in H$, $\|x\|^2=\sum_n|(x,e_n)|^2$
        \item For all $x,y\in H$, $(x,y)=\sum_n(x,e_n)\overline{(y,e_n)}$.
    \end{enumerate}
\end{crly}
\begin{proof}
    (i): $\|\sum_{n=1}^k(x,e_n)e_n\|^2=\sum_{n=1}^k|(x,e_n)|^2$. Let $k\to \infty$, $\|x\|^2=\sum_n|(x,e_n)|^2$.

    (ii): $(\sum_{n=1}^k(x,e_n)e_n,\sum_{n=1}^k(y,e_n)e_n)=\sum_{n=1}^k(x,e_n)\overline{(y,e_n)}$. Let $k\to\infty$.
\end{proof}
\begin{crly}
    Let $H$ be a separable infinite dimensional Hilbert space. Then $H$ is isometrically isomorphic to $\ell_2$.
\end{crly}
\begin{proof}
    Choose an orthonormal basis $(e_n)$ for $H$. Define $T:H\to \ell_2$ by $T(x)=((x,e_n))_{n=1}^\infty$.
    This is well-defined by Bessel. $T$ is clearly linearl and norm preserving. It is surjective by Riesz-Fischer.
\end{proof}

\subsection{Matrices of Linear Operators}
\begin{defn}
    Let $H$ be a Hilbert space with an orthonormal basis $(e_n)$. For $T\in L(H)$, the matrix of $T$ w.r.t. $(e_n)$ is $A=(a_{ij})_{i,j=1}^\infty$ where $a_{ij}=(Te_j,e_i)$.
\end{defn}
Thus, $Te_j=\sum_{i=1}^\infty a_{ij}e_i$, so the matrix of $T$ determines $T$.
\begin{rem}
    Not every matrix comes from a $T\in L(H)$.
\end{rem}
\subsection{Adjoints}
\begin{thm}
    $H$ Hilbert, $T\in L(H)$. Then there exists a unique map $T^\ast$ s.t. for all $x,y\in H$, $(Tx,y)=(x,T^\ast y)$. Moreover, $T^\ast\in L(H)$.
\end{thm}
\begin{rem}
    If $T$ has a matrix $A$ with respect to orthonormal basis, then $T^\ast$ has matrix $A^\dagger$ with respect to this basis. However, we cannot define $T^\ast$ this way because
    \begin{enumerate}[1)]
        \item Might depend on the orthonormal basis
        \item $H$ might not have an orthonormal basis (e.g. if it's not separable)
        \item $A^\dagger$ might not be the matrix of a continuous linear map
    \end{enumerate}
\end{rem}
\begin{defn}
    $T^\ast$ is the adjoint of $T$.
\end{defn}
\begin{proof}
    For each $y\in H$, $x\mapsto (Tx,y)$ is a bounded linear functional. By Riesz representation, there exists $z\in H$ s.t. $\theta_z=(x\mapsto (Tx,y))$ so that $(Tx,y)=(x,z)$. Define $T^\ast y=z$.

    Uniqueness: note that $(Tx,y)=(x,z)$ for all $x$. If $z'$ is another candidate, then $(x,z)=(x,z')$ for all $x$, so $z=z'$.

    Linearity: just compute.

    Boundedness: For fixed $y\in H$, $|(x,T^\ast y)|=|(Tx,y)|\le \|T\|\|x\|\|y\|$ for all $x\in H$, so $|(x,T^\ast y)|\le \|T\|\|y\|$ for all $x\in H$ with $\|x\|\le 1$, so $\|T^\ast y\|\le \|T\|\|y\|$ (using that $\|z\|>k\implies(\frac{z}{\|z\|},z)>k$). So $T^\ast \in L(H)$ with $\|T^\ast \|\le \|T\|$.
\end{proof}
\begin{example}
    $H=\ell_2$. The adjoint of the left shift operator is the right shift operator.
\end{example}
\begin{prop}
    $H$ Hilbert, $S,T\in L(H)$. Then
    \begin{enumerate}[(i)]
        \item $(\lambda S+\mu T)^\ast =\bar \lambda S^\ast+\bar\mu T^\ast$ for all $\lambda,\mu\in\CC$.
        \item $(ST)^\ast=T^\ast S^\ast$
        \item $(T^\ast)^\ast= T$
        \item $\|T^\ast\|=\|T\|$
        \item $\|T^\ast T\|=\|T\|^2$
    \end{enumerate}
\end{prop}
\begin{proof}
    (i), (ii), and (iii) are easy to prove. (iv) follows from (iii) since the reversed inequality $\|T\|\le \|T^\ast\|$ also holds. For (v), certainly $\|T^\ast T\|\le \|T\|^2$. Also, $\|Tx\|^2=(x,T^\ast T x)\le \|x\|^2\|T^\ast T\|$, so $\|T\|^2\le \|T^\ast T\|$.
\end{proof}
\begin{rem}
    It's not true in general that $\|T^2\|=\|T\|^2$, e.g., consider a nilpotent operator.
\end{rem}
\begin{defn}
    $H$ Hilbert; $T\in L(H)$. Then $T$ is Hermitian (or self-adjoint) if $T^\ast =T$.
\end{defn}
\begin{example}
    Orthogonal projections onto a closed subspace is Hermitian.
\end{example}
\begin{prop}
    $H$ complex Hilbert space; $T\in L(H)$. Then there exists $T_1,T_2$ Hermitian with $T=T_1+iT_2$
\end{prop}
\begin{proof}
    $T=\frac12(T+T^\ast)+i\cdot\frac i2(T^\ast -T)$.
\end{proof}
\begin{rem}
    This decomposition is unique. If $T_1+iT_2=T_1'+iT_2'$, then taking adjoint and manipulate a little bit, you get $T_1-T_1'=0$ and $T_2-T_2'=0$.
\end{rem}

\section{Spectral Theory}
Let $X$ be a Banach space, $T\in L(X)$. We know that $T\in L(X)$ is invertible if and only if $T$ is a bijection and $T^{-1}$ is continuous. This is equivalent to $T$ being bijective by inversion theorem. So: $T\in L(X)$ is invertible if and only if $T$ is injective and surjective. Note that both conditions are necessary (e.g., left shift and right shift).
\begin{thm}
    $X$ Banach space, $T\in L(X)$. Then $\|T\|<1$ implies that $I-T$ is invertible with $(I-T)^{-1}=\sum_{n=0}^\infty T^n$
\end{thm}
\begin{proof}
    Note that $(I-T)\sum_{n=0}^k T^n=I-T^{k+1}$. Let $k\to \infty$, this expression converges to $I$ in operator norm. Similar argument holds for the other composition.
\end{proof}
For a Banach space $X$, we write $GL(X)$ for the set of invertible bounded linear operators $X\to X$.
\begin{thm}
    $X$ Banach, then
    \begin{enumerate}[(i)]
        \item $G$ is open in $L(X)$
        \item The function $T\to T^{-1}$ from $G$ to itself is continuous,
        \item Let $(T_n)$ in $G$, $T\in L(X)$ with $T_n\to T$ but $T\notin G$, then $\|T_n^{-1}\|\to \infty$.
    \end{enumerate}
\end{thm}
\begin{proof}
    (i): For $T\in G$, have $T-S=T(I-T^{-1}S)$ for all $S\in L(X)$. Choose $S$ with sufficiently small operator norm, in particular, $\|S\|<\frac{1}{\|T^{-1}\|}$, then $I-T^{-1}S$ is invertible. This shows that $B(T,\frac{1}{\|T^{-1}\|})\subseteq G$.

    (ii): For $\|S\|<\|T^{-1}\|^{-1}$, $(T-S)^{-1}-T^{-1}=\sum_{n=1}^\infty (T^{-1}S)^nT$ Taking operator norm, see that
    \[\|(T-S)^{-1}-T^{-1}\|\le\sum_{n=1}^\infty\|S\|^n\|T^{-1}\|^{n+1}\to 0\] as $\|S\|\to0$.

    (iii): Given $\epsilon>0$, for $n$ sufficiently large s.t. $\|T_n-T\|<\epsilon$ we have $B(T_n,\frac{1}{\|T_n^{-1}\|})\subseteq G$ and $T\notin G$ so $\|T_n^{-1}\|^{-1}<\epsilon$, so $\|T_n^{-1}\|>\frac1\epsilon$.
\end{proof}
Now we restrict out attention to complex Banach spaces.

\begin{defn}
    Let $X$ be a (complex) Banach space, $T\in L(X)$, $\lambda\in \CC$. $\lambda$ is an eigenvalue of $T$ if there exists $x\in X$ non-zero with $Tx=\lambda x$. Such an $x$ is called an eigenvector of $T$.
\end{defn}
\begin{example}
    $X=\ell_2$, $T=$ Right shift. Then $0$ is not an eigenvalue of $T$, but $T$ is not surjective and hence not invertible. In fact, $T$ has no eigenvalues.
\end{example}
\begin{defn}
    $X$ complex Banach space with $T\in L(X)$. The spectrum of $T$ is $\sigma(T)=\{\lambda\in \CC:(T-\lambda I)\text{ not invertible}\}$.
\end{defn}
Observe that for finite dimensional space, this is just the set of eigenvalues.
\begin{rem}
    $\lambda\in\sigma(T)$ iff either $T-\lambda I$ not injective ($\lambda$ is an e-value) or $T-\lambda I$ not surjective.
\end{rem}
\begin{prop}
    $X$ a (complex) Banach space; $T\in L(X)$. Then $\sigma(T)$ is a closed subset of $\{z\in\CC: |z|\le \|T\|\}$. In particular, $\sigma(T)$ is compact.
\end{prop}
\begin{proof}
    $\lambda\notin \sigma(T)$ iff $T-\lambda I\in G$. But $G$ is open and $\lambda\mapsto T-\lambda I$ is a continuous function $\CC\to L(X)$, so $\CC\setminus \sigma(T)$ is open.

    For $|\lambda|>\|T\|$, $T-\lambda I=-\lambda (I-\frac{I}{\lambda})$ which is invertible.
\end{proof}
\begin{defn}
    $\CC\setminus\sigma(T)$ is the resolvent set of $T$. The function $R:\CC\setminus\sigma(T)\to L(X)$, $\lambda\mapsto (\lambda I-T)^{-1}$ is the resolvent function of $T$.
\end{defn}
For $|\lambda |>\|T\|$, $R(\lambda)=\sum_{n=0}^\infty \frac{T^n}{\lambda^{n+1}}$.
\begin{example}
    The spectrum of the left shift operator is the closed unit disk. Note that every value in the open unit disk is an eigenvalue (consider $(1,\lambda,\lambda^2,...)$), and $\sigma(T)$ is a closed subset of $\{z\in \CC:|z|\le 1\}$.
\end{example}
\begin{defn}
    $X$ complex Banach space; $T\in L(X)$; $\lambda\in\CC$. $\lambda$ is an approximate eigenvalue of $T$ if 
    \[\forall\epsilon>0,\exists x\in X, \|x\|=1\text{ s.t. }\|Tx-\lambda x\|<\epsilon\]
    Equivalently, $\lambda$ is an approximate eigenvalue if there exists a sequence $(x_n)$ in $X$ with $\|x_n\|=1$ for all $n$ s.t. $\|Tx_n-\lambda x_n\|\to 0$. Such a sequence $(x_n)$ is an approximate eigenvector of $T$.
\end{defn}
\begin{prop}
    $X$ complex Banach; $T\in L(X)$; $\lambda\in\CC$. Then
    \begin{enumerate}[(i)]
        \item $\lambda$ is an eigenvalue of $T\implies$ $\lambda$ is an approximate eigenvalue of $T$.
        \item $\lambda $ is an approximate eigenvalue of $T\implies$ $\lambda\in\sigma(T)$.
    \end{enumerate}
\end{prop}
\begin{proof}
    (i): Trivial.

    (ii): If $\lambda$ is an approx. e-value of $T$, then find sucha sequence $(x_n)$. If $T-\lambda I$ is invertible, then $(T-\lambda I)^{-1}(Tx_n-\lambda x_n)\to 0$, so $x_n\to 0$. Contradiction.
\end{proof}
\begin{example}
    \begin{enumerate}
        \item $Te_n=\frac1{2^n}e_n$, then $0$ is an approx e-value but not an e-value.
        \item $T$ Right shift. $0$ is not an approx e-value, but $0\in\sigma(T)$.
    \end{enumerate}
\end{example}
\begin{defn}
    Write $\sigma_{ap}(T)$ for the set of approximate eigenvalues. This is called the approximate point spectrum of $T$. Somtie write $\sigma_p(T)$ for the set of eigenvalues, called the point spectrum of $T$.
\end{defn}
\begin{thm}
    $X$ a complex Banach space; $T\in L(X)$. Then $\partial\sigma(T)\subseteq \sigma_{ap}(T)$.
\end{thm}
\begin{proof}
    For $\lambda \in \partial\sigma(T)$, there exists $\lambda_n\in \CC\setminus\sigma(T)$ with $\lambda_n\to \lambda$. Then $T-\lambda_n I\to T-\lambda I$, so $\|(T-\lambda_nI)^{-1}\|\to \infty$ as $n\to\infty$. So there exists a sequence $(x_n)$ in $X$ s.t. $\|x_n\|\to 0$ and $\|(T-\lambda_nI)^{-1}x_n\|=1$ for all $n$. Put $y_n=(T-\lambda_nI)^{-1}x_n$, then $\|y_n\|=1$ for all $n$ and $(T-\lambda_n I)y_n=x_n\to 0$, so $(T-\lambda I)y_n=0$ (note: $(T-\lambda I)y_n=(T-\lambda_n I)y_n+(\lambda_n-\lambda) y_n$)
\end{proof}
\begin{example}
    Let $T$ be the right shift operator. Any value in the open unit disk is not an approximate e-value, so $\partial\sigma(T)\subseteq S^1$. Then either $D^1\subseteq \sigma(T)$ or $D^1\cap \sigma(T)=\varnothing$. Note that $0\in\sigma(T)$, so the whole open unit disk must be in $\sigma(T)$, so $\sigma(T)$ is the closed unit disk.
\end{example}
\begin{thm}[Spectral Mapping Theorem]
    $X$ complex Banach space; $T\in L(X)$. Let $p$ be a non-constant complex polynomial. Then $\sigma(p(T))=\{p(\lambda):\lambda\in\sigma(T)\}$.
\end{thm}
\begin{proof}
    For a fixed $\mu\in \CC$, write $p(z)-\mu=c(z-\lambda_1)\cdots(z-\lambda_n)$, where $c,\lambda_1,...,\lambda_n\in \CC$ and $c\neq 0$. Then $p(T)-\mu I=c(T-\lambda_1I)\cdots(T-\lambda_nI)$.

    We claim that $p(T)-\mu I$ is invertible if and only if $T-\lambda_iI$ is invertible for all $i$.
    \begin{proof}[Proof of claim]
        `$\Leftarrow$': Trivial

        `$\Rightarrow$': If $T-\lambda_iI$ is not invertible, then $(T-\lambda_1I)\cdots(T-\lambda_nI)$ is not invertible. Note that for all $A,B$, $A$ not invertible implies that $A$ not injective or $A$ not surjective, which implies that $BA$ or $AB$ not invertible. Also note that $T-\lambda_j I$ commute.
    \end{proof}
    So $\mu\in\sigma(p(T))$ iff $T-\lambda_i$ not invertible for some $i$, but $\{\lambda_1,...,\lambda_n\}=\{\lambda\in\CC:p(\lambda)=\mu$. This shows that $\mu\in\sigma(p(T))\Leftrightarrow \lambda\in\sigma(T)$ for some $\lambda$ with $p(\lambda)=\mu$.
\end{proof}
\begin{rem}
    We did not cheat here. It is not true that $A$ not invertible implies $AB$ not invertible, e.g., $A$ left shift, $B$ right shift.
\end{rem}
\begin{defn}
    $X$ a complex Banach space; $T\in L(X)$. The spectral value of $T$ is $r(T)=\sup\{|\lambda|:\lambda\in\sigma(T)\}$.
\end{defn}
Certainly, $r(T)\le \|T\|$.
\begin{example}
    $r(\text{Left shift})=r(\text{Right shift})=1$.
\end{example}
\begin{crly}
    $X$ a complex Banach space, $T\in L(X)$. Then $r(T)\le \inf_{n\ge 1}\|T^n\|^{1/n}$.
\end{crly}
\begin{proof}
    $r(T^n)\le \|T^n\|$, but $r(T^n)=r(T)^n$ by spectral mapping theorem, so $r(T)\le \|T^n\|^{1/n}$.
\end{proof}
\begin{example}
    For $T$ nilpotent, then $r(T)=0$, so we can have strict inequality $r(T)\le \|T\|$.
\end{example}
\begin{thm}[Non-emptiness of the spectrum]
    $H$ a (non-zero) Hilbert space, $T\in L(H)$. Then $\sigma(T)\neq\varnothing$.
\end{thm}
\begin{rem}
    If $\dim H<\infty$, then we are done by FTA, which can be proved by Liouville's theorem. We will carry out a similar argument here.
\end{rem}
\begin{proof}
    Suppose $\sigma(T)=\varnothing$. Then the resolvent function $R$ is defined on $\CC$. Observe that
    \[R(\lambda)-R(\mu)=(\lambda I-T)^{-1}((\mu I-T)-(\lambda I-T))(\mu I-T)^{-1}\]
    so 
    \[\dfrac{R(\lambda)-R(\mu)}{\lambda-\mu}=-R(\lambda)R(\mu)\to -R(\lambda)^2\]
     as $\mu\to \lambda$.
     For fixed $x,y\in H$, define $f:\CC\to \CC$ by $f(\lambda)=(R(\lambda)x,y)$. Then by direct computation, we see that $f$ is entire.

    Now, for $|\lambda|>\|T\|$, we have $\|(\lambda I-T)u\|\ge (|\lambda|-\|T\|)\|u\|$ for all $u\in H$, so $\|(\lambda I-T)^{-1}\|\le \frac{1}{|\lambda|-\|T\|}\to 0$ as $|\lambda|\to\infty$. Thus $|f(\lambda)|\le \|R(\lambda)\|\|x\|\|y\|\to 0$ as $|\lambda|\to\infty$. By Liouville, $f\equiv 0$. Thus $(R(\lambda)x,y)=0$ for all $\lambda,x,y$, so $R(\lambda)x=0$ for all $\lambda,x$. This is a massive contradiction.
\end{proof}
\begin{rem}
    \begin{enumerate}[1)]
        \item If $T\in L(X)$, $X$ Banach, we could look at $f(\lambda)=\phi(R(\lambda)x)$, where $x\in X$ and $\phi\in X^\ast$. We would get $f\equiv 0$, i.e., $\phi(R(\lambda)x)$ for all $\lambda, x$. By Hahn-Banach, $R(\lambda)x=0$ for all $\lambda, x$, a contradiction.
        \item Can rephrase the above proof in terms of $L(H)$-valued analytic functions. A function is called analytic  if for all $\lambda\in\CC$, there exists $S\in L(H)$ s.t. $\frac{g(\lambda)-g(\mu)}{\lambda-\mu}\to S$ as $\mu\to\lambda$. We proved that an $L(H)$-valued Liouville's theorem.
        \item Have $R(\lambda)=\sum_{n=0}^\infty\frac{T^n}{\lambda^{n+1}}$ for $|\lambda|>\|T\|$.  By considering $L(H)$-valued analytic functions one can show that this Laurent series converges for $|\lambda|>r(T)$. But one can also show that $\sum_{n=0}^\infty\frac{T^n}{\lambda^{n+1}}$ has radius of convergence $\limsup\|T^n\|^{1/n}$. Hence $r(T)\ge \limsup\|T^n\|^{1/n}$. But $r(T)\le \inf_{n\ge 1}\|T^n\|^{1/n}$ by spectral mapping theorem, so $r(T)=\lim_{n\to\infty} \|T^n\|^{1/n}$. This is the spectral radius formula.
    \end{enumerate}
\end{rem}
\subsection{Spectral Theory of Hermitian Operators}
In this section all spaces are over $\CC$.
\begin{prop}
    $H$ Hilbert space; $T\in L(H)$. Then $\sigma(T^\ast)=\{\bar\lambda:\lambda\in\sigma(T)\}$.
\end{prop}
\begin{proof}
    For any $T\in L(H)$, $T$ invertible iff $T^\ast $ invertible. Thus $T-\lambda I$ is invertible iff $T^\ast-\bar\lambda I$ is invertible.
\end{proof}
\begin{example}
    We can deduce the spectrum of right shift using this result.
\end{example}
\begin{thm}
    $H$ Hilber space, $T\in L(H)$ Hermitian. Then $\sigma(T)\subseteq \RR$.
\end{thm}
\begin{proof}
    For $\lambda$ an approximate eigenvalue of $T$, there exists $(x_n)$ in $H$, $\|x_n\|=1$ with $Tx_n-\lambda x_n\to 0$. Thus $(Tx_n-\lambda x_n,x_n\to 0)$, so $(Tx_n,x_n)\to \lambda$. But $\forall x\in H$, $(Tx,x)=(x,Tx)$, so $(Tx_n,x_n)\in \RR$ for all $n$, so $\lambda\in \RR$. We have $\partial\sigma(T)\subseteq\sigma_{ap}(T)\subseteq \RR$, so $\sigma(T)\subseteq \RR$.
\end{proof}
\begin{crly}
    $H$ Hilbert space, $T\in L(H)$ Hermitian. Suppose $\lambda,\mu$ are distinct evalues with e-vectors $x,y$, then $x\perp y$
\end{crly}
\begin{proof}
    Just compute.
\end{proof}
\begin{rem}
    For $T$ Hermitian, $\sigma(T)=\partial\sigma(T)$ since it's a subset of $\RR$.
\end{rem}
\begin{prop}
    $H$ Hilbert, $T\in L(H)$ Hermitian. Then $r(T)=\|T\|$.
\end{prop}
\begin{proof}
    WLOG, $\|T\|=1$. We will show that $1$ or $-1$ is an approximate eigenvalue.
\end{proof}
\end{document}